{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notifcation.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newPerson","post","id","delete","put","Filter","searchName","handleChange","value","name","onChange","PersonForm","handleSubmit","newName","newNumber","onSubmit","type","Persons","searchedPersons","handleDelete","map","person","index","key","number","onClick","Notifcation","message","console","log","msg","err","className","App","useState","persons","setPersons","setNewName","setNewNumber","setsearchName","setMessage","useEffect","personsServices","catch","setTimeout","e","target","filter","toLowerCase","includes","event","preventDefault","alert","checkName","find","window","confirm","res","Object","values","error","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6971961c.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () =>{\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n};\n\nconst create = newPerson => {\n    const request = axios.post(baseUrl, newPerson)\n    return request.then(response => response.data)\n};\n  \nconst deletePerson = (id) =>{\n    return axios.delete(`${baseUrl}/${id}`)\n};\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nexport default{\n    getAll,\n    create,\n    deletePerson,\n    update\n}","import React from 'react'\n\nconst Filter = ({searchName, handleChange}) => {\n    return (\n        <div>\n            filter shown with: <input value={searchName} name=\"searchName\" onChange={handleChange} /> \n        </div>\n    )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({handleSubmit, handleChange, newName, newNumber}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <div>\n                name: <input value={newName} name=\"newName\" onChange={handleChange} />\n            </div>\n            <div>\n                number: <input value={newNumber} name=\"newNumber\" onChange={handleChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm\n","import React from 'react'\n\n\n\nconst Persons = ({searchedPersons, handleDelete}) => {\n    return (\n        <table>\n        <tbody>\n          {searchedPersons.map( (person,index) => <tr  key={index}>\n              <td>{person.name}</td>\n              <td>{person.number}</td>\n              <td><button onClick={() => handleDelete(person.name, person.id)}>delete</button></td>\n          </tr>)}\n        </tbody>\n      </table>\n    )\n}\n\nexport default Persons\n","import React from 'react'\n\n\nconst Notifcation = ({message}) => {\n    console.log(message)\n    const {msg, err} = message\n    if (!msg) {\n        return null\n      }\n    \n      return (\n        <div className={ err ? \"notification error\" : \"notification\"}>\n          {msg}\n        </div>\n      )\n}\n\nexport default Notifcation\n","import React, { useState, useEffect } from 'react'\n\nimport personsServices from './services/persons';\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notifcation'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setsearchName ] = useState('')\n  const [message, setMessage] = useState({msg: null, err: false})\n\n  useEffect(() => {\n    personsServices.getAll()\n    .then( response => setPersons(response))\n    .catch(err =>{\n      setMessage({msg:`Data is not loaded from server!`, err: true})\n      setTimeout(() => setMessage({msg: null, err: false}),5000)\n    })\n  }, [])\n\n  const handleChange = (e) =>{\n    const {name, value} = e.target;\n    switch (name) {\n      case 'newName':\n          setNewName(value)\n        break;\n      case 'newNumber':\n          setNewNumber(value)\n        break;\n      case 'searchName':\n          setsearchName(value)\n        break;\n      default:\n        break;\n    }\n  };\n\n  const handleSubmit = (event) =>{\n        event.preventDefault();\n        const newPerson = { name: newName, number: newNumber}\n\n        if(!newName || newName === ''){\n            return alert('Enter your name')\n          } \n        const checkName = persons.find(person => person.name.toLowerCase() === newName.toLowerCase());\n        if(checkName){\n          if(window.confirm(`${newName} is already added to phonebook,replace the old number with a new one?`)){\n            checkName.number = newNumber \n            personsServices.update(checkName.id, checkName).then((res) =>{\n              setMessage({msg:`updated ${res.name} !`, err: false})\n              setTimeout(() => setMessage({msg: null, err: false}),5000)\n            }).catch( err =>{\n              setMessage({msg: Object.values(err.response.data), err: true})\n              setTimeout(() => setMessage({msg: null, err: false}),5000)\n            })\n          }\n        }else{\n          personsServices.create(newPerson)\n          .then((res) =>{\n            setMessage({msg:`Added ${res.name} !`, err: false})\n            setTimeout(() => setMessage({msg: null, err: false}),5000)\n          })\n          .catch( error =>{\n            setMessage({msg:Object.values(error.response.data), err: true})\n            setTimeout(() => setMessage({msg: null, err: false}),5000)\n          })\n        } \n        \n        setNewName('')\n        setNewNumber('')    \n  };\n\n  const handleDelete = (name, id) =>{\n    if (!window.confirm(`Delete ${name} ?`)) {\n      return;\n    }\n    personsServices.deletePerson(id).then(() =>{\n      setMessage({msg:`${name} deleted!`, err: false})\n      setTimeout(() => setMessage({msg: null, err: false}),5000)\n    })\n  }\n\n  const searchedPersons = persons.filter(person => person.name.toLowerCase().includes(searchName.toLowerCase()));\n  \n  console.log(searchedPersons)\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification\n          message={message}\n        />\n        <Filter \n          searchName={searchName} \n          handleChange={handleChange} \n        />\n      <h2>add a new</h2>\n        <PersonForm \n          handleSubmit={handleSubmit} \n          newName={newName}\n          newNumber={newNumber} \n          handleChange={handleChange}\n        />\n      <h2>Numbers</h2>\n      <Persons \n        searchedPersons={searchedPersons} \n        handleDelete={handleDelete}\n      />\n      {(searchedPersons.length < 1) ? <h4>not matched</h4> : null}\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}